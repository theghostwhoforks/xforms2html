<?xml version="1.0" encoding="utf-8"?>
<h:html xmlns="http://www.w3.org/2002/xforms" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:h="http://www.w3.org/1999/xhtml" xmlns:jr="http://openrosa.org/javarosa" xmlns:orx="http://openrosa.org/xforms/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <h:head>
        <h:title>Doctor Visit Form</h:title>
        <model>
            <instance>
                <doctor_visit id="doctor_visit">
                    <formhub>
                        <uuid/>
                    </formhub>
                    <today/>
                    <date/>
                    <doctor/>
                    <beneficiary/>
                    <visitReason/>
                    <weight/>
                    <height/>
                    <temperature/>
                    <bloodPressure/>
                    <fundalHeight/>
                    <chiefComplaint/>
                    <assessment/>
                    <healthProblems/>
                    <healthProblemsOther/>
                    <diagnosis/>
                    <medications jr:template="">
                        <medicationName/>
                        <dose/>
                        <unit/>
                        <duration/>
                        <instructions/>
                    </medications>
                    <tests jr:template="">
                        <testRequired/>
                        <testRequiredName/>
                    </tests>
                    <hospitalVisit/>
                    <followUp/>
                    <clinicalNote/>
                    <meta>
                        <instanceID/>
                    </meta>
                </doctor_visit>
            </instance>
            <bind jr:preload="date" jr:preloadParams="today" nodeset="/doctor_visit/today" type="date"/>
            <bind nodeset="/doctor_visit/date" type="date"/>
            <bind nodeset="/doctor_visit/doctor" type="select1"/>
            <bind nodeset="/doctor_visit/beneficiary" type="select1"/>
            <bind nodeset="/doctor_visit/visitReason" relevant="selected ( /doctor_visit/beneficiary , 'pregnantWoman')" required="true()" type="select1"/>
            <bind nodeset="/doctor_visit/weight" type="decimal"/>
            <bind nodeset="/doctor_visit/height" relevant="selected ( /doctor_visit/beneficiary , 'pregnantWoman') or selected ( /doctor_visit/beneficiary , 'mother')" type="decimal"/>
            <bind nodeset="/doctor_visit/temperature" type="decimal"/>
            <bind nodeset="/doctor_visit/bloodPressure" relevant="selected ( /doctor_visit/beneficiary , 'pregnantWoman')" type="string"/>
            <bind nodeset="/doctor_visit/fundalHeight" relevant="selected ( /doctor_visit/beneficiary , 'pregnantWoman')" type="decimal"/>
            <bind nodeset="/doctor_visit/chiefComplaint" type="string"/>
            <bind nodeset="/doctor_visit/assessment" type="string"/>
            <bind nodeset="/doctor_visit/healthProblems" type="select"/>
            <bind nodeset="/doctor_visit/healthProblemsOther" relevant="selected ( /doctor_visit/healthProblems , 'other')" type="string"/>
            <bind nodeset="/doctor_visit/diagnosis" type="string"/>
            <bind nodeset="/doctor_visit/medications/medicationName" type="string"/>
            <bind nodeset="/doctor_visit/medications/dose" type="string"/>
            <bind nodeset="/doctor_visit/medications/unit" type="select1"/>
            <bind nodeset="/doctor_visit/medications/duration" type="string"/>
            <bind nodeset="/doctor_visit/medications/instructions" type="string"/>
            <bind nodeset="/doctor_visit/tests/testRequired" type="select1"/>
            <bind nodeset="/doctor_visit/tests/testRequiredName" relevant="selected ( /doctor_visit/tests/testRequired , 'yes')" required="true()" type="string"/>
            <bind nodeset="/doctor_visit/hospitalVisit" type="select1"/>
            <bind nodeset="/doctor_visit/followUp" type="date"/>
            <bind nodeset="/doctor_visit/clinicalNote" type="string"/>
            <bind calculate="concat('uuid:', uuid())" nodeset="/doctor_visit/meta/instanceID" readonly="true()" type="string"/>
            <bind calculate="'9575ce24f83a4cc1a06f1eda33e2ec38'" nodeset="/doctor_visit/formhub/uuid" type="string"/>
        </model>
    </h:head>
    <h:body>
        <input ref="/doctor_visit/date">
            <label>Date of visit</label>
        </input>
        <select1 appearance="minimal" ref="/doctor_visit/doctor">
            <label>Doctor's name</label>
            <item>
                <label>Dr. S Chowdhury</label>
                <value>chowdhury</value>
            </item>
            <item>
                <label>Dr. S Sen</label>
                <value>sen</value>
            </item>
            <item>
                <label>Dr. U.K. Roy</label>
                <value>roy</value>
            </item>
        </select1>
        <select1 appearance="minimal" ref="/doctor_visit/beneficiary">
            <label>Beneficiary Type</label>
            <item>
                <label>Mother</label>
                <value>mother</value>
            </item>
            <item>
                <label>Child</label>
                <value>child</value>
            </item>
            <item>
                <label>Pregnant Woman</label>
                <value>pregnantWoman</value>
            </item>
        </select1>
        <select1 appearance="minimal" ref="/doctor_visit/visitReason">
            <label>Reason for doctor visit</label>
            <item>
                <label>Regular ANC check up</label>
                <value>ancDoctorVisit</value>
            </item>
            <item>
                <label>Other</label>
                <value>otherDoctorVisit</value>
            </item>
        </select1>
        <input ref="/doctor_visit/weight">
            <label>Weight (kg)</label>
        </input>
        <input ref="/doctor_visit/height">
            <label>Height (cm)</label>
        </input>
        <input ref="/doctor_visit/temperature">
            <label>Temperature (Â°F)</label>
        </input>
        <input ref="/doctor_visit/bloodPressure">
            <label>Blood Pressure</label>
        </input>
        <input ref="/doctor_visit/fundalHeight">
            <label>Fundal Height (cm)</label>
        </input>
        <input appearance="text-area" ref="/doctor_visit/chiefComplaint">
            <label>Chief Complaint</label>
        </input>
        <input appearance="text-area" ref="/doctor_visit/assessment">
            <label>Assessment</label>
        </input>
        <select ref="/doctor_visit/healthProblems">
            <label>Health Problem/ Classification</label>
            <item>
                <label>Congenital / Developmental disorders</label>
                <value>congenital</value>
            </item>
            <item>
                <label>Dermatological</label>
                <value>dermatological</value>
            </item>
            <item>
                <label>Endocrinological disorder</label>
                <value>endocrinological</value>
            </item>
            <item>
                <label>ENT</label>
                <value>ent</value>
            </item>
            <item>
                <label>Fever of unknown origin/ fever with rash</label>
                <value>fever</value>
            </item>
            <item>
                <label>Gastrointestinal</label>
                <value>gastrointestinal</value>
            </item>
            <item>
                <label>General Trauma/burn injury</label>
                <value>generalTrauma</value>
            </item>
            <item>
                <label>Genitourinary/ Gynecological</label>
                <value>genitourinary</value>
            </item>
            <item>
                <label>Infectious disease</label>
                <value>infectiousDisease</value>
            </item>
            <item>
                <label>Neurological</label>
                <value>neurological</value>
            </item>
            <item>
                <label>Nutritional deficiency</label>
                <value>nutritionalDeficiency</value>
            </item>
            <item>
                <label>Ophthalmic infection/allergy</label>
                <value>ophthalmic</value>
            </item>
            <item>
                <label>Respiratory</label>
                <value>respiratory</value>
            </item>
            <item>
                <label>Pregnancy, childbirth, and the puerperium</label>
                <value>childBirth</value>
            </item>
            <item>
                <label>Other</label>
                <value>other</value>
            </item>
        </select>
        <input appearance="text-area" ref="/doctor_visit/healthProblemsOther">
            <label>Please specify other:</label>
        </input>
        <input appearance="text-area" ref="/doctor_visit/diagnosis">
            <label>Diagnosis</label>
        </input>
        <group ref="/doctor_visit/medications">
            <label>Medications</label>
            <repeat nodeset="/doctor_visit/medications">
                <input ref="/doctor_visit/medications/medicationName">
                    <label>Name</label>
                </input>
                <input ref="/doctor_visit/medications/dose">
                    <label>Dose</label>
                </input>
                <select1 appearance="minimal" ref="/doctor_visit/medications/unit">
                    <label>Dose unit</label>
                    <item>
                        <label>mg</label>
                        <value>mg</value>
                    </item>
                    <item>
                        <label>ml</label>
                        <value>ml</value>
                    </item>
                </select1>
                <input ref="/doctor_visit/medications/duration">
                    <label>Duration</label>
                </input>
                <input appearance="text-area" ref="/doctor_visit/medications/instructions">
                    <label>Administration Instructions</label>
                </input>
            </repeat>
        </group>
        <group ref="/doctor_visit/tests">
            <label>Tests</label>
            <repeat nodeset="/doctor_visit/tests">
                <select1 appearance="minimal" ref="/doctor_visit/tests/testRequired">
                    <label>Test Required</label>
                    <item>
                        <label>Yes</label>
                        <value>yes</value>
                    </item>
                    <item>
                        <label>No</label>
                        <value>no</value>
                    </item>
                </select1>
                <input appearance="text-area" ref="/doctor_visit/tests/testRequiredName">
                    <label>Name of test:</label>
                </input>
            </repeat>
        </group>
        <select1 appearance="minimal" ref="/doctor_visit/hospitalVisit">
            <label>Patient was adviced to visit the hospital</label>
            <item>
                <label>Yes</label>
                <value>yes</value>
            </item>
            <item>
                <label>No</label>
                <value>no</value>
            </item>
        </select1>
        <input ref="/doctor_visit/followUp">
            <label>Date of follow up visit</label>
        </input>
        <input appearance="text-area" ref="/doctor_visit/clinicalNote">
            <label>Clinical note/ other advice</label>
        </input>
    </h:body>
</h:html>